@using HKSJ.WBVV.Common.Language
@{
    Layout = null;
}
<div class="row-fluid">
    <table class="table table-striped table-bordered table-hover">
        <thead>
            <tr>
                <td style="width: 8px;">
                    <input type="checkbox" onclick="checkAll(this)" />
                </td>
                <th style="width: 45px;">@LanguageUtil.Translate("admin_Views_User_List_th_SeqNo")</th>
                <th>UID</th>
                <th>@LanguageUtil.Translate("admin_Views_User_List_th_Account")</th>
                <th>@LanguageUtil.Translate("admin_Views_User_List_th_Nickname")</th>
                <th>@LanguageUtil.Translate("admin_Views_User_List_th_PhoneNo")</th>
                <th>@LanguageUtil.Translate("admin_Views_User_List_th_Sex")</th>
                <th>@LanguageUtil.Translate("admin_Views_User_List_th_Level")</th>
                <th>@LanguageUtil.Translate("admin_Views_User_List_th_BB")</th>
                <th>@LanguageUtil.Translate("admin_Views_User_List_th_CostBB")</th>
                <th>@LanguageUtil.Translate("admin_Views_User_List_th_Fans")</th>
                <th>@LanguageUtil.Translate("admin_Views_User_List_th_Subscribe")</th>
                <th>@LanguageUtil.Translate("admin_Views_User_List_th_RegisterDate")</th>
                <th>@LanguageUtil.Translate("admin_Views_User_List_th_Status")</th>
                <th>@LanguageUtil.Translate("admin_Views_User_List_th_Operation")</th>
            </tr>
        </thead>
        <tbody data-bind="foreach:data">
            <tr>
                <td>
                    <input type="checkbox" data-bind="checked:ischeck" />
                </td>
                <td data-bind="text:index"></td>
                <td data-bind="text:model.Id"></td>
                <td data-bind="text:model.Account"></td>
                <td data-bind="text:model.NickName"></td>
                <td data-bind="text:model.Phone"></td>
                <td data-bind="text:model.Gender"></td>
                <td data-bind="text:model.Level"></td>
                <td data-bind="text:model.BB"></td>
                <td data-bind="text:model.UseBB"></td>
                <td data-bind="text:model.FansCount"></td>
                <td data-bind="text:model.SubscribeNum"></td>
                <td data-bind="text:model.CreateTime"></td>
                <td data-bind="text:model.State"></td>
                <td>
                    <a class="btn mini" data-bind="click: function () { forbidden($index(),model.Id) }">
                        <i class=""></i>
                        <span data-bind="text:functext($index(),model.State)"></span>
                    </a>
                    <input type="hidden" data-bind="value:model.State" />
                </td>
            </tr>
        </tbody>
    </table>
</div>
<script>
    function functext(index, state) {
        var $td = $($($('table tbody tr')[index]).find('td')[14]);
        if ($td) {
            if (state == Translate("admin_Views_User_List_js_functext_if_disabled")) {
                $td.find('a').addClass('green');
                $td.find('a i').addClass('icon-edit');
            } else {
                $td.find('a').addClass('red');
                $td.find('a i').addClass('icon-remove');
            }
        }
        return state == '@LanguageUtil.Translate("admin_Views_User_List_js_functext_return_euqalEnabled")' ? '@LanguageUtil.Translate("admin_Views_User_List_js_functext_return_QuesDisabled")' : '@LanguageUtil.Translate("admin_Views_User_List_js_functext_return_Quesabled")';
    }
</script>
